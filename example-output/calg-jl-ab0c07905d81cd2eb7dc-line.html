<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="statprofiler.css">

    <title>StatProfiler: /home/tkluck/.julia/v0.5/MultivariatePolynomials/src/calg.jl</title>
  </head>
  <body>
<div class="report-header">
  <div class="backlink"><a href="index.html">Report index</a></div>
  <div class="report-title">Devel::StatProfiler report</div>
  <div class="generated-on">Generated on zo 14 mei 2017 23:47:53 BST</div>
</div>

    <div id="body-content">
      <table>
        <caption>File source code</caption>
        <tr>
          <th>Line</td>
          <th>Exclusive</th>
          <th>Inclusive</th>
          <th>Code</th>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-1"></a>1</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Multiple Dispatch strategy:
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-2"></a>2</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Polytype op Any
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-3"></a>3</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># for each concrete type T
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-4"></a>4</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Any op T # ambig with Polytype op Any
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-5"></a>5</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># PolyType op T # breaks ambig
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-6"></a>6</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-7"></a>7</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">import Base.(^), Base.dot, Base.(.+), Base.(.-), Base.(.*), Base.(./), Base.(.^)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-8"></a>8</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-9"></a>9</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.+)(p::PolyType, α) = p+α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-10"></a>10</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.+)(α, p::PolyType) = α+p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-11"></a>11</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.+)(p::PolyType, q::PolyType) = p+q
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-12"></a>12</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.-)(p::PolyType, α) = p-α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-13"></a>13</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.-)(α, p::PolyType) = α-p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-14"></a>14</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.-)(p::PolyType, q::PolyType) = p-q
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-15"></a>15</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.*)(p::PolyType, α) = p*α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-16"></a>16</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.*)(α, p::PolyType) = α*p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-17"></a>17</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.*)(p::PolyType, q::PolyType) = p*q
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-18"></a>18</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(./)(p::PolyType, α) = p/α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-19"></a>19</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(./)(α, p::PolyType) = α/p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-20"></a>20</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(./)(p::PolyType, q::PolyType) = p/q
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-21"></a>21</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(.^)(p::PolyType, i::Int) = p^i
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-22"></a>22</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-23"></a>23</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">import Base.transpose
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-24"></a>24</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Base.transpose(p::PolyType) = p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-25"></a>25</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-26"></a>26</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># In Base/intfuncs.jl, x^p returns zero(x) when p == 0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-27"></a>27</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Since one(PolyVar) and one(Monomial) do not return
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-28"></a>28</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># a PolyVar and a Monomial, this results in type instability
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-29"></a>29</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Defining the specific methods solve this problem and also make
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-30"></a>30</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># them a lot faster
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-31"></a>31</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">^{C}(x::PolyVar{C}, i::Int) = Monomial{C}([x], [i])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-32"></a>32</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">^(x::Monomial{true}, i::Int) = Monomial{true}(x.vars, i*x.z)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-33"></a>33</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-34"></a>34</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Product between PolyVar and Monomial -&gt; Monomial
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-35"></a>35</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function (*)(x::PolyVar{true}, y::PolyVar{true})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-36"></a>36</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if x === y
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-37"></a>37</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Monomial{true}([x], [2])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-38"></a>38</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-39"></a>39</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Monomial{true}(x &gt; y ? [x,y] : [y,x], [1,1])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-40"></a>40</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-41"></a>41</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-42"></a>42</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function multiplyvar(v::Vector{PolyVar{true}}, x::PolyVar{true})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-43"></a>43</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    i = findfirst(w-&gt;w &lt;= x, v)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-44"></a>44</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if i &gt; 0 &amp;&amp; v[i] == x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-45"></a>45</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        multiplyexistingvar(v, x, i)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-46"></a>46</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-47"></a>47</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        insertvar(v, x, i == 0 ? length(v)+1 : i)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-48"></a>48</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-49"></a>49</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-50"></a>50</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function (*)(x::PolyVar{true}, y::Monomial{true})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-51"></a>51</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    w, updatez = multiplyvar(y.vars, x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-52"></a>52</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    Monomial{true}(w, updatez(y.z))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-53"></a>53</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-54"></a>54</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function (*)(x::PolyVar{true}, y::MonomialVector{true})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-55"></a>55</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    w, updatez = multiplyvar(y.vars, x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-56"></a>56</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    MonomialVector{true}(w, updatez.(y.Z))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-57"></a>57</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-58"></a>58</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function multiplymono(v::Vector{PolyVar{true}}, x::Monomial{true})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-59"></a>59</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if v == x.vars
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-60"></a>60</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        # /!\ no copy done here for efficiency, do not mess up with vars
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-61"></a>61</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        w = v
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-62"></a>62</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        updatez = z -&gt; z + x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-63"></a>63</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-64"></a>64</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        w, maps = myunion([v, x.vars])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-65"></a>65</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        updatez = z -&gt; begin
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-66"></a>66</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            newz = zeros(Int, length(w))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-67"></a>67</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            newz[maps[1]] += z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-68"></a>68</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            newz[maps[2]] += x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-69"></a>69</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            newz
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-70"></a>70</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-71"></a>71</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-72"></a>72</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    w, updatez
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-73"></a>73</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-74"></a>74</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function (*)(x::Monomial{true}, y::Monomial{true})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-75"></a>75</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    w, updatez = multiplymono(y.vars, x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-76"></a>76</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    Monomial{true}(w, updatez(y.z))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-77"></a>77</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-78"></a>78</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function (*)(x::Monomial{true}, y::MonomialVector{true})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-79"></a>79</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    w, updatez = multiplymono(y.vars, x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-80"></a>80</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    MonomialVector{true}(w, updatez.(y.Z))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-81"></a>81</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-82"></a>82</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(*)(x::Monomial{true}, y::PolyVar{true}) = y * x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-83"></a>83</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-84"></a>84</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># non-PolyType * PolyType: specific methods for speed
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-85"></a>85</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(p::PolyType, α) = α * p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-86"></a>86</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-87"></a>87</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*{C}(α, x::PolyVar{C}) = Term(α, Monomial{C}(x))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-88"></a>88</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(α, x::Monomial)      = Term(α, x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-89"></a>89</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(α, p::MatPolynomial) = α * Polynomial(p)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-90"></a>90</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(α, x::Term)    = Term(α*x.α, x.x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-91"></a>91</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(α, p::Polynomial) = Polynomial(α*p.a, p.x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-92"></a>92</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-93"></a>93</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Reverse order to avoid abiguïty with above 5 specific methods
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-94"></a>94</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(p::PolyType, x::PolyVar) = x * p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-95"></a>95</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(p::PolyType, x::Monomial) = x * p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-96"></a>96</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(p::PolyType, x::MatPolynomial) = x * Polynomial(p)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-97"></a>97</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># The three above are mapped to one of the two below
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-98"></a>98</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(p::PolyType, q::Term) = TermContainer(p) * q
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-99"></a>99</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(p::PolyType, q::Polynomial) = TermContainer(p) * q
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-100"></a>100</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-101"></a>101</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># I do not want to cast x to TermContainer because that would force the promotion of eltype(q) with Int
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-102"></a>102</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function *{S&lt;:Union{PolyVar,Monomial}}(x::S, t::Term)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-103"></a>103</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    Term(t.α, x*t.x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-104"></a>104</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-105"></a>105</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function *{S&lt;:Union{PolyVar,Monomial},T}(x::S, p::Polynomial{T})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-106"></a>106</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    # /!\ No copy of a is done
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-107"></a>107</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    Polynomial{T}(p.a, x*p.x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-108"></a>108</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-109"></a>109</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-110"></a>110</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># TermContainer * TermContainer
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-111"></a>111</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(x::Term, y::Term) = Term(x.α*y.α, x.x*y.x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-112"></a>112</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">*(p::Polynomial, t::Term) = t * p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-113"></a>113</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function *(t::Term, p::Polynomial)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-114"></a>114</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if iszero(t)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-115"></a>115</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        zero(p)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-116"></a>116</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-117"></a>117</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        n = length(p)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-118"></a>118</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        allvars, maps = myunion([t.x.vars, p.x.vars])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-119"></a>119</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        nvars = length(allvars)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-120"></a>120</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Z = [zeros(Int, nvars) for i in 1:n]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-121"></a>121</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        for i in 1:n
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-122"></a>122</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            Z[i][maps[1]] = t.x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-123"></a>123</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            Z[i][maps[2]] += p.x.Z[i]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-124"></a>124</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-125"></a>125</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Polynomial(t.α * p.a, MonomialVector(allvars, Z))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-126"></a>126</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-127"></a>127</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-128"></a>128</td>
          <td></td>
          <td></td>
          <td>
            <div class="call-sites">
              <a name="S-home-tkluck-julia-v0-5-MultivariatePolynomials-src-calg-jl-128"></a>
              4791 (99.25%) samples spent in *<br />
              2 (2.33%) (ex.),
              295 (6.16%) (incl.)
              when called from
              power_by_squaring
              <a href="intfuncs-jl-e33cbfcdd5a3782eb332-line.html#Lintfuncs-jl-e33cbfcdd5a3782eb332-line.html-130">line 130</a><br />
              84 (97.67%) (ex.),
              4496 (93.84%) (incl.)
              when called from
              power_by_squaring
              <a href="intfuncs-jl-e33cbfcdd5a3782eb332-line.html#Lintfuncs-jl-e33cbfcdd5a3782eb332-line.html-132">line 132</a><br />
            </div>
            <span class="code">function *(p::Polynomial, q::Polynomial)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-129"></a>129</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if iszero(p)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-130"></a>130</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        zero(q)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-131"></a>131</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    elseif iszero(q)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-132"></a>132</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        zero(p)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-133"></a>133</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-134"></a>134</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        samevars = vars(p) == vars(q)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-135"></a>135</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        if samevars
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-136"></a>136</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            allvars = vars(p)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-137"></a>137</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-138"></a>138</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            allvars, maps = myunion([vars(p), vars(q)])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-139"></a>139</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-140"></a>140</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        N = length(p)*length(q)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-141"></a>141</td>
          <td>19 (0.39%)</td>
          <td>19 (0.39%)</td>
          <td>
            <span class="code">        Z = Vector{Vector{Int}}(N)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-142"></a>142</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        T = typeof(p.a[1]*q.a[1])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-143"></a>143</td>
          <td>44 (0.91%)</td>
          <td>44 (0.91%)</td>
          <td>
            <span class="code">        a = Vector{T}(N)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-144"></a>144</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        i = 0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-145"></a>145</td>
          <td>1 (0.02%)</td>
          <td>2 (0.04%)</td>
          <td>
            <div class="callees">
              1 (50.00%)
              samples spent calling
              <a href="poly-jl-85f503a54a90790bdda3-line.html#S-home-tkluck-julia-v0-5-MultivariatePolynomials-src-poly-jl-getindex-220">getindex</a><br />
            </div>
            <span class="code">        for u in p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-146"></a>146</td>
          <td>6 (0.12%)</td>
          <td>156 (3.23%)</td>
          <td>
            <div class="callees">
              149 (95.51%)
              samples spent calling
              <a href="poly-jl-85f503a54a90790bdda3-line.html#S-home-tkluck-julia-v0-5-MultivariatePolynomials-src-poly-jl-getindex-220">getindex</a><br />
              1 (0.64%)
              samples spent calling
              <a href="mono-jl-cd68131c2c9ec5569b93-line.html#S-home-tkluck-julia-v0-5-MultivariatePolynomials-src-mono-jl-getindex-182">getindex</a><br />
            </div>
            <span class="code">            for v in q
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-147"></a>147</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                if samevars
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-148"></a>148</td>
          <td>8 (0.17%)</td>
          <td>534 (11.06%)</td>
          <td>
            <div class="callees">
              526 (98.50%)
              samples spent calling
              <a href="arraymath-jl-2fee4262185541f42a3c-line.html#S-home-tkluck-src-julia-usr-bin-share-julia-base-arraymath-jl-_elementwise-70">_elementwise</a><br />
            </div>
            <span class="code">                    z = u.x.z + v.x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-149"></a>149</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-150"></a>150</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                    z = zeros(Int, length(allvars))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-151"></a>151</td>
          <td>1 (0.02%)</td>
          <td>1 (0.02%)</td>
          <td>
            <span class="code">                    z[maps[1]] += u.x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-152"></a>152</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                    z[maps[2]] += v.x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-153"></a>153</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-154"></a>154</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">                i += 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-155"></a>155</td>
          <td>2 (0.04%)</td>
          <td>2 (0.04%)</td>
          <td>
            <span class="code">                Z[i] = z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-156"></a>156</td>
          <td>5 (0.10%)</td>
          <td>5 (0.10%)</td>
          <td>
            <span class="code">                a[i] = u.α * v.α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-157"></a>157</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-158"></a>158</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-159"></a>159</td>
          <td></td>
          <td>4028 (83.45%)</td>
          <td>
            <div class="callees">
              4028 (100.00%)
              samples spent calling
              <a href="poly-jl-85f503a54a90790bdda3-line.html#S-home-tkluck-julia-v0-5-MultivariatePolynomials-src-poly-jl-vecpolynomialclean-215">vecpolynomialclean</a><br />
            </div>
            <span class="code">        vecpolynomialclean(allvars, a, Z)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-160"></a>160</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-161"></a>161</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-162"></a>162</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-163"></a>163</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">dot(p::PolyType, q::PolyType) = p * q
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-164"></a>164</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">dot(α, p::PolyType) = α * p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-165"></a>165</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">dot(p::PolyType, α) = p * α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-166"></a>166</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-167"></a>167</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">myminivect{T}(x::T, y::T) = [x, y]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-168"></a>168</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function myminivect{S,T}(x::S, y::T)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-169"></a>169</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    U = promote_type(S, T)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-170"></a>170</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    [U(x), U(y)]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-171"></a>171</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-172"></a>172</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-173"></a>173</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function (+){C}(x::Term{C}, y::Term{C})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-174"></a>174</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if x.x == y.x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-175"></a>175</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Polynomial{C}([x.α+y.α], [x.x])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-176"></a>176</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    elseif x.x &gt; y.x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-177"></a>177</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Polynomial{C}(myminivect(x.α,y.α), [x.x,y.x])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-178"></a>178</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-179"></a>179</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Polynomial{C}(myminivect(y.α,x.α), [y.x,x.x])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-180"></a>180</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-181"></a>181</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-182"></a>182</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-183"></a>183</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function (-){C}(x::Term{C}, y::Term{C})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-184"></a>184</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if x.x == y.x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-185"></a>185</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Polynomial{C}([x.α-y.α], [x.x])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-186"></a>186</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    elseif x.x &gt; y.x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-187"></a>187</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Polynomial{C}(myminivect(x.α,-y.α), [x.x,y.x])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-188"></a>188</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-189"></a>189</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        Polynomial{C}(myminivect(-y.α,x.α), [y.x,x.x])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-190"></a>190</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-191"></a>191</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-192"></a>192</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-193"></a>193</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+){S&lt;:Union{PolyVar,Monomial},T&lt;:Union{PolyVar,Monomial}}(x::S, y::T) = Term(x) + Term(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-194"></a>194</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-){S&lt;:Union{PolyVar,Monomial},T&lt;:Union{PolyVar,Monomial}}(x::S, y::T) = Term(x) - Term(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-195"></a>195</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-196"></a>196</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function plusorminus{C, S, T}(p::TermContainer{C, S}, q::TermContainer{C, T}, isplus)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-197"></a>197</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    varsvec = [vars(p), vars(q)]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-198"></a>198</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    allvars, maps = myunion(varsvec)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-199"></a>199</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    nvars = length(allvars)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-200"></a>200</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    U = promote_type(S, T)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-201"></a>201</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    a = Vector{U}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-202"></a>202</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    Z = Vector{Vector{Int}}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-203"></a>203</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    i = j = 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-204"></a>204</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    while i &lt;= length(p) || j &lt;= length(q)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-205"></a>205</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        z = zeros(Int, nvars)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-206"></a>206</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        if j &gt; length(q) || (i &lt;= length(p) &amp;&amp; p[i].x &gt; q[j].x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-207"></a>207</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            t = p[i]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-208"></a>208</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            z[maps[1]] = t.x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-209"></a>209</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            α = t.α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-210"></a>210</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            i += 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-211"></a>211</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        elseif i &gt; length(p) || q[j].x &gt; p[i].x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-212"></a>212</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            t = q[j]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-213"></a>213</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            z[maps[2]] = t.x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-214"></a>214</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            α = isplus ? t.α : -t.α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-215"></a>215</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            j += 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-216"></a>216</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-217"></a>217</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            t = p[i]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-218"></a>218</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            z[maps[1]] = t.x.z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-219"></a>219</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            α = t.α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-220"></a>220</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            s = q[j]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-221"></a>221</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            α += isplus ? s.α : -s.α
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-222"></a>222</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            i += 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-223"></a>223</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            j += 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-224"></a>224</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-225"></a>225</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        push!(a, α)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-226"></a>226</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        push!(Z, z)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-227"></a>227</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-228"></a>228</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-229"></a>229</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    Polynomial(a, MonomialVector{C}(allvars, Z))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-230"></a>230</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-231"></a>231</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-232"></a>232</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-233"></a>233</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+){C}(x::TermContainer{C}, y::TermContainer{C}) = plusorminus(x, y, true)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-234"></a>234</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-){C}(x::TermContainer{C}, y::TermContainer{C}) = plusorminus(x, y, false)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-235"></a>235</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+){C, T, S&lt;:Union{Monomial,PolyVar}}(x::TermContainer{C, T}, y::S) = x + Term{C, T}(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-236"></a>236</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+){C, T, S&lt;:Union{Monomial,PolyVar}}(x::S, y::TermContainer{C, T}) = Term{C, T}(x) + y
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-237"></a>237</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-238"></a>238</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+)(x::TermContainer, y::MatPolynomial) = x + Polynomial(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-239"></a>239</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+)(x::MatPolynomial, y::TermContainer) = Polynomial(x) + y
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-240"></a>240</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+)(x::MatPolynomial, y::MatPolynomial) = Polynomial(x) + Polynomial(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-241"></a>241</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-)(x::TermContainer, y::MatPolynomial) = x - Polynomial(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-242"></a>242</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-)(x::MatPolynomial, y::TermContainer) = Polynomial(x) - y
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-243"></a>243</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-)(x::MatPolynomial, y::MatPolynomial) = Polynomial(x) - Polynomial(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-244"></a>244</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-245"></a>245</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-){S&lt;:Union{Monomial,PolyVar},T}(x::TermContainer{T}, y::S) = x - Term{T}(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-246"></a>246</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-){S&lt;:Union{Monomial,PolyVar},T}(x::S, y::TermContainer{T}) = Term{T}(x) - y
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-247"></a>247</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-248"></a>248</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Avoid adding a zero constant that might artificially increase the Newton polytope
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-249"></a>249</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Need to add Polynomial conversion for type stability
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-250"></a>250</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+){C}(x::PolyType{C}, y) = iszero(y) ? Polynomial(x) : x + Term{C}(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-251"></a>251</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(+){C}(x, y::PolyType{C}) = iszero(x) ? Polynomial(y) : Term{C}(x) + y
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-252"></a>252</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-){C}(x::PolyType{C}, y) = iszero(y) ? Polynomial(x) : x - Term{C}(y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-253"></a>253</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-){C}(x, y::PolyType{C}) = iszero(x) ? Polynomial(-y) : Term{C}(x) - y
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-254"></a>254</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-255"></a>255</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-){C}(x::PolyVar{C}) = Term(-1, Monomial{C}(x))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-256"></a>256</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-)(x::Monomial) = Term(-1, x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-257"></a>257</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-)(t::Term) = Term(-t.α, t.x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lcalg-jl-ab0c07905d81cd2eb7dc-line.html-258"></a>258</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">(-)(p::Polynomial) = Polynomial(-p.a, p.x)
</span>
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
